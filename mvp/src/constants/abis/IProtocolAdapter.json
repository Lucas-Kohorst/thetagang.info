{
  "contractName": "IProtocolAdapter",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "caller",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "options",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "optionID",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "exerciseProfit",
          "type": "uint256"
        }
      ],
      "name": "Exercised",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "caller",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "string",
          "name": "protocolName",
          "type": "string"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "underlying",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "optionID",
          "type": "uint256"
        }
      ],
      "name": "Purchased",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "protocolName",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nonFungible",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "purchaseMethod",
      "outputs": [
        {
          "internalType": "enum ProtocolAdapterTypes.PurchaseMethod",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "underlying",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "strikeAsset",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "collateralAsset",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "expiry",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "strikePrice",
              "type": "uint256"
            },
            {
              "internalType": "enum ProtocolAdapterTypes.OptionType",
              "name": "optionType",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "paymentToken",
              "type": "address"
            }
          ],
          "internalType": "struct ProtocolAdapterTypes.OptionTerms",
          "name": "optionTerms",
          "type": "tuple"
        }
      ],
      "name": "optionsExist",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "underlying",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "strikeAsset",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "collateralAsset",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "expiry",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "strikePrice",
              "type": "uint256"
            },
            {
              "internalType": "enum ProtocolAdapterTypes.OptionType",
              "name": "optionType",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "paymentToken",
              "type": "address"
            }
          ],
          "internalType": "struct ProtocolAdapterTypes.OptionTerms",
          "name": "optionTerms",
          "type": "tuple"
        }
      ],
      "name": "getOptionsAddress",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "underlying",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "strikeAsset",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "collateralAsset",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "expiry",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "strikePrice",
              "type": "uint256"
            },
            {
              "internalType": "enum ProtocolAdapterTypes.OptionType",
              "name": "optionType",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "paymentToken",
              "type": "address"
            }
          ],
          "internalType": "struct ProtocolAdapterTypes.OptionTerms",
          "name": "optionTerms",
          "type": "tuple"
        },
        {
          "internalType": "uint256",
          "name": "purchaseAmount",
          "type": "uint256"
        }
      ],
      "name": "premium",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "cost",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "options",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "optionID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "exerciseProfit",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "profit",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "options",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "optionID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "canExercise",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "underlying",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "strikeAsset",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "collateralAsset",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "expiry",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "strikePrice",
              "type": "uint256"
            },
            {
              "internalType": "enum ProtocolAdapterTypes.OptionType",
              "name": "optionType",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "paymentToken",
              "type": "address"
            }
          ],
          "internalType": "struct ProtocolAdapterTypes.OptionTerms",
          "name": "optionTerms",
          "type": "tuple"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "maxCost",
          "type": "uint256"
        }
      ],
      "name": "purchase",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "optionID",
          "type": "uint256"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "options",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "optionID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        }
      ],
      "name": "exercise",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "underlying",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "strikeAsset",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "collateralAsset",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "expiry",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "strikePrice",
              "type": "uint256"
            },
            {
              "internalType": "enum ProtocolAdapterTypes.OptionType",
              "name": "optionType",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "paymentToken",
              "type": "address"
            }
          ],
          "internalType": "struct ProtocolAdapterTypes.OptionTerms",
          "name": "optionTerms",
          "type": "tuple"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "createShort",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "closeShort",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "metadata": "{\"compiler\":{\"version\":\"0.7.2+commit.51b20bc0\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"options\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"optionID\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"exerciseProfit\",\"type\":\"uint256\"}],\"name\":\"Exercised\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"string\",\"name\":\"protocolName\",\"type\":\"string\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"underlying\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"optionID\",\"type\":\"uint256\"}],\"name\":\"Purchased\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"options\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"optionID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"canExercise\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"closeShort\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"underlying\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"strikeAsset\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"collateralAsset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"expiry\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"strikePrice\",\"type\":\"uint256\"},{\"internalType\":\"enum ProtocolAdapterTypes.OptionType\",\"name\":\"optionType\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"paymentToken\",\"type\":\"address\"}],\"internalType\":\"struct ProtocolAdapterTypes.OptionTerms\",\"name\":\"optionTerms\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"createShort\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"options\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"optionID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"}],\"name\":\"exercise\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"options\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"optionID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"exerciseProfit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"profit\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"underlying\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"strikeAsset\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"collateralAsset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"expiry\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"strikePrice\",\"type\":\"uint256\"},{\"internalType\":\"enum ProtocolAdapterTypes.OptionType\",\"name\":\"optionType\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"paymentToken\",\"type\":\"address\"}],\"internalType\":\"struct ProtocolAdapterTypes.OptionTerms\",\"name\":\"optionTerms\",\"type\":\"tuple\"}],\"name\":\"getOptionsAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"nonFungible\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"underlying\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"strikeAsset\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"collateralAsset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"expiry\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"strikePrice\",\"type\":\"uint256\"},{\"internalType\":\"enum ProtocolAdapterTypes.OptionType\",\"name\":\"optionType\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"paymentToken\",\"type\":\"address\"}],\"internalType\":\"struct ProtocolAdapterTypes.OptionTerms\",\"name\":\"optionTerms\",\"type\":\"tuple\"}],\"name\":\"optionsExist\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"underlying\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"strikeAsset\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"collateralAsset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"expiry\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"strikePrice\",\"type\":\"uint256\"},{\"internalType\":\"enum ProtocolAdapterTypes.OptionType\",\"name\":\"optionType\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"paymentToken\",\"type\":\"address\"}],\"internalType\":\"struct ProtocolAdapterTypes.OptionTerms\",\"name\":\"optionTerms\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"purchaseAmount\",\"type\":\"uint256\"}],\"name\":\"premium\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"cost\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"protocolName\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"underlying\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"strikeAsset\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"collateralAsset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"expiry\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"strikePrice\",\"type\":\"uint256\"},{\"internalType\":\"enum ProtocolAdapterTypes.OptionType\",\"name\":\"optionType\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"paymentToken\",\"type\":\"address\"}],\"internalType\":\"struct ProtocolAdapterTypes.OptionTerms\",\"name\":\"optionTerms\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxCost\",\"type\":\"uint256\"}],\"name\":\"purchase\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"optionID\",\"type\":\"uint256\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"purchaseMethod\",\"outputs\":[{\"internalType\":\"enum ProtocolAdapterTypes.PurchaseMethod\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"createShort((address,address,address,uint256,uint256,uint8,address),uint256)\":{\"params\":{\"amount\":\"is the short position amount\",\"optionTerms\":\"is the terms of the option contract\"}},\"exercise(address,uint256,uint256,address)\":{\"params\":{\"amount\":\"is the amount of tokens or options contract to exercise. Only relevant for fungle protocols like Opyn\",\"optionID\":\"is the ID of the option position in non fungible protocols like Hegic.\",\"options\":\"is the address of the options contract\",\"recipient\":\"is the account that receives the exercised profits. This is needed since the adapter holds all the positions and the msg.sender is an instrument contract.\"}},\"exerciseProfit(address,uint256,uint256)\":{\"params\":{\"amount\":\"is the amount of tokens or options contract to exercise. Only relevant for fungle protocols like Opyn\",\"optionID\":\"is the ID of the option position in non fungible protocols like Hegic.\",\"options\":\"is the address of the options contract\"}},\"getOptionsAddress((address,address,address,uint256,uint256,uint8,address))\":{\"params\":{\"optionTerms\":\"is the terms of the option contract\"}},\"optionsExist((address,address,address,uint256,uint256,uint8,address))\":{\"params\":{\"optionTerms\":\"is the terms of the option contract\"}},\"premium((address,address,address,uint256,uint256,uint8,address),uint256)\":{\"params\":{\"optionTerms\":\"is the terms of the option contract\",\"purchaseAmount\":\"is the number of options purchased\"}},\"purchase((address,address,address,uint256,uint256,uint8,address),uint256,uint256)\":{\"params\":{\"amount\":\"is the purchase amount in Wad units (10**18)\",\"optionTerms\":\"is the terms of the option contract\"}}},\"version\":1},\"userdoc\":{\"events\":{\"Exercised(address,address,uint256,uint256,uint256)\":{\"notice\":\"Emitted when an option contract is exercised\"},\"Purchased(address,string,address,uint256,uint256)\":{\"notice\":\"Emitted when a new option contract is purchased\"}},\"kind\":\"user\",\"methods\":{\"closeShort()\":{\"notice\":\"Closes an existing short position. In the future, we may want to open this up to specifying a particular short position to close.\"},\"createShort((address,address,address,uint256,uint256,uint8,address),uint256)\":{\"notice\":\"Opens a short position for a given `optionTerms`.\"},\"exercise(address,uint256,uint256,address)\":{\"notice\":\"Exercises the options contract.\"},\"exerciseProfit(address,uint256,uint256)\":{\"notice\":\"Amount of profit made from exercising an option contract (current price - strike price). 0 if exercising out-the-money.\"},\"getOptionsAddress((address,address,address,uint256,uint256,uint8,address))\":{\"notice\":\"Get the options contract's address based on the passed parameters\"},\"nonFungible()\":{\"notice\":\"Boolean flag to indicate whether to use option IDs or not. Fungible protocols normally use tokens to represent option contracts.\"},\"optionsExist((address,address,address,uint256,uint256,uint8,address))\":{\"notice\":\"Check if an options contract exist based on the passed parameters.\"},\"premium((address,address,address,uint256,uint256,uint8,address),uint256)\":{\"notice\":\"Gets the premium to buy `purchaseAmount` of the option contract in ETH terms.\"},\"protocolName()\":{\"notice\":\"Name of the adapter. E.g. \\\"HEGIC\\\", \\\"OPYN_V1\\\". Used as index key for adapter addresses\"},\"purchase((address,address,address,uint256,uint256,uint8,address),uint256,uint256)\":{\"notice\":\"Purchases the options contract.\"},\"purchaseMethod()\":{\"notice\":\"Returns the purchase method used to purchase options\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"/Users/kenchan/Desktop/structured-products/contracts/adapters/IProtocolAdapter.sol\":\"IProtocolAdapter\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"/Users/kenchan/Desktop/structured-products/contracts/adapters/IProtocolAdapter.sol\":{\"keccak256\":\"0x1bf6d274ac59626af5829964614935795e24e374bcc295522bcbcc9d7e49675f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1abdc970faa1e338ee9cd71d96a3aa7ea2a5eaeaa1e55958fdbcb3b99617d726\",\"dweb:/ipfs/QmQCmMWeewTbMBGSeLtNssAEHUeh2DQVFnfaPiTmqQ19Pj\"]}},\"version\":1}",
  "bytecode": "0x",
  "deployedBytecode": "0x",
  "immutableReferences": {},
  "generatedSources": [],
  "deployedGeneratedSources": [],
  "sourceMap": "",
  "deployedSourceMap": "",
  "source": "// SPDX-License-Identifier: MIT\npragma solidity >=0.7.2;\npragma experimental ABIEncoderV2;\n\nlibrary ProtocolAdapterTypes {\n    enum OptionType {Invalid, Put, Call}\n\n    // We have 2 types of purchase methods so far - by contract and by 0x.\n    // Contract is simple because it involves just specifying the option terms you want to buy.\n    // ZeroEx involves an off-chain API call which prepares a ZeroExOrder object to be passed into the tx.\n    enum PurchaseMethod {Invalid, Contract, ZeroEx}\n\n    /**\n     * @notice Terms of an options contract\n     * @param underlying is the underlying asset of the options. E.g. For ETH $800 CALL, ETH is the underlying.\n     * @param strikeAsset is the asset used to denote the asset paid out when exercising the option. E.g. For ETH $800 CALL, USDC is the underlying.\n     * @param collateralAsset is the asset used to collateralize a short position for the option.\n     * @param expiry is the expiry of the option contract. Users can only exercise after expiry in Europeans.\n     * @param strikePrice is the strike price of an optio contract. E.g. For ETH $800 CALL, 800*10**18 is the USDC.\n     * @param optionType is the type of option, can only be OptionType.Call or OptionType.Put\n     * @param paymentToken is the token used to purchase the option. E.g. Buy UNI/USDC CALL with WETH as the paymentToken.\n     */\n    struct OptionTerms {\n        address underlying;\n        address strikeAsset;\n        address collateralAsset;\n        uint256 expiry;\n        uint256 strikePrice;\n        ProtocolAdapterTypes.OptionType optionType;\n        address paymentToken;\n    }\n\n    /**\n     * @notice 0x order for purchasing otokens\n     * @param exchangeAddress [deprecated] is the address we call to conduct a 0x trade. Slither flagged this as a potential vulnerability so we hardcoded it.\n     * @param buyTokenAddress is the otoken address\n     * @param sellTokenAddress is the token used to purchase USDC. This is USDC most of the time.\n     * @param allowanceTarget is the address the adapter needs to provide sellToken allowance to so the swap happens\n     * @param protocolFee is the fee paid (in ETH) when conducting the trade\n     * @param makerAssetAmount is the buyToken amount\n     * @param takerAssetAmount is the sellToken amount\n     * @param swapData is the encoded msg.data passed by the 0x api response\n     */\n    struct ZeroExOrder {\n        address exchangeAddress;\n        address buyTokenAddress;\n        address sellTokenAddress;\n        address allowanceTarget;\n        uint256 protocolFee;\n        uint256 makerAssetAmount;\n        uint256 takerAssetAmount;\n        bytes swapData;\n    }\n}\n\ninterface IProtocolAdapter {\n    /**\n     * @notice Emitted when a new option contract is purchased\n     */\n    event Purchased(\n        address indexed caller,\n        string indexed protocolName,\n        address indexed underlying,\n        uint256 amount,\n        uint256 optionID\n    );\n\n    /**\n     * @notice Emitted when an option contract is exercised\n     */\n    event Exercised(\n        address indexed caller,\n        address indexed options,\n        uint256 indexed optionID,\n        uint256 amount,\n        uint256 exerciseProfit\n    );\n\n    /**\n     * @notice Name of the adapter. E.g. \"HEGIC\", \"OPYN_V1\". Used as index key for adapter addresses\n     */\n    function protocolName() external pure returns (string memory);\n\n    /**\n     * @notice Boolean flag to indicate whether to use option IDs or not.\n     * Fungible protocols normally use tokens to represent option contracts.\n     */\n    function nonFungible() external pure returns (bool);\n\n    /**\n     * @notice Returns the purchase method used to purchase options\n     */\n    function purchaseMethod()\n        external\n        pure\n        returns (ProtocolAdapterTypes.PurchaseMethod);\n\n    /**\n     * @notice Check if an options contract exist based on the passed parameters.\n     * @param optionTerms is the terms of the option contract\n     */\n    function optionsExist(ProtocolAdapterTypes.OptionTerms calldata optionTerms)\n        external\n        view\n        returns (bool);\n\n    /**\n     * @notice Get the options contract's address based on the passed parameters\n     * @param optionTerms is the terms of the option contract\n     */\n    function getOptionsAddress(\n        ProtocolAdapterTypes.OptionTerms calldata optionTerms\n    ) external view returns (address);\n\n    /**\n     * @notice Gets the premium to buy `purchaseAmount` of the option contract in ETH terms.\n     * @param optionTerms is the terms of the option contract\n     * @param purchaseAmount is the number of options purchased\n     */\n    function premium(\n        ProtocolAdapterTypes.OptionTerms calldata optionTerms,\n        uint256 purchaseAmount\n    ) external view returns (uint256 cost);\n\n    /**\n     * @notice Amount of profit made from exercising an option contract (current price - strike price). 0 if exercising out-the-money.\n     * @param options is the address of the options contract\n     * @param optionID is the ID of the option position in non fungible protocols like Hegic.\n     * @param amount is the amount of tokens or options contract to exercise. Only relevant for fungle protocols like Opyn\n     */\n    function exerciseProfit(\n        address options,\n        uint256 optionID,\n        uint256 amount\n    ) external view returns (uint256 profit);\n\n    function canExercise(\n        address options,\n        uint256 optionID,\n        uint256 amount\n    ) external view returns (bool);\n\n    /**\n     * @notice Purchases the options contract.\n     * @param optionTerms is the terms of the option contract\n     * @param amount is the purchase amount in Wad units (10**18)\n     */\n    function purchase(\n        ProtocolAdapterTypes.OptionTerms calldata optionTerms,\n        uint256 amount,\n        uint256 maxCost\n    ) external payable returns (uint256 optionID);\n\n    /**\n     * @notice Exercises the options contract.\n     * @param options is the address of the options contract\n     * @param optionID is the ID of the option position in non fungible protocols like Hegic.\n     * @param amount is the amount of tokens or options contract to exercise. Only relevant for fungle protocols like Opyn\n     * @param recipient is the account that receives the exercised profits. This is needed since the adapter holds all the positions and the msg.sender is an instrument contract.\n     */\n    function exercise(\n        address options,\n        uint256 optionID,\n        uint256 amount,\n        address recipient\n    ) external payable;\n\n    /**\n     * @notice Opens a short position for a given `optionTerms`.\n     * @param optionTerms is the terms of the option contract\n     * @param amount is the short position amount\n     */\n    function createShort(\n        ProtocolAdapterTypes.OptionTerms calldata optionTerms,\n        uint256 amount\n    ) external returns (uint256);\n\n    /**\n     * @notice Closes an existing short position. In the future, we may want to open this up to specifying a particular short position to close.\n     */\n    function closeShort() external returns (uint256);\n}\n",
  "sourcePath": "/Users/kenchan/Desktop/structured-products/contracts/adapters/IProtocolAdapter.sol",
  "ast": {
    "absolutePath": "/Users/kenchan/Desktop/structured-products/contracts/adapters/IProtocolAdapter.sol",
    "exportedSymbols": {
      "IProtocolAdapter": [
        3026
      ],
      "ProtocolAdapterTypes": [
        2892
      ]
    },
    "id": 3027,
    "license": "MIT",
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 2850,
        "literals": [
          "solidity",
          ">=",
          "0.7",
          ".2"
        ],
        "nodeType": "PragmaDirective",
        "src": "32:24:3"
      },
      {
        "id": 2851,
        "literals": [
          "experimental",
          "ABIEncoderV2"
        ],
        "nodeType": "PragmaDirective",
        "src": "57:33:3"
      },
      {
        "abstract": false,
        "baseContracts": [],
        "contractDependencies": [],
        "contractKind": "library",
        "fullyImplemented": true,
        "id": 2892,
        "linearizedBaseContracts": [
          2892
        ],
        "name": "ProtocolAdapterTypes",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "canonicalName": "ProtocolAdapterTypes.OptionType",
            "id": 2855,
            "members": [
              {
                "id": 2852,
                "name": "Invalid",
                "nodeType": "EnumValue",
                "src": "144:7:3"
              },
              {
                "id": 2853,
                "name": "Put",
                "nodeType": "EnumValue",
                "src": "153:3:3"
              },
              {
                "id": 2854,
                "name": "Call",
                "nodeType": "EnumValue",
                "src": "158:4:3"
              }
            ],
            "name": "OptionType",
            "nodeType": "EnumDefinition",
            "src": "127:36:3"
          },
          {
            "canonicalName": "ProtocolAdapterTypes.PurchaseMethod",
            "id": 2859,
            "members": [
              {
                "id": 2856,
                "name": "Invalid",
                "nodeType": "EnumValue",
                "src": "468:7:3"
              },
              {
                "id": 2857,
                "name": "Contract",
                "nodeType": "EnumValue",
                "src": "477:8:3"
              },
              {
                "id": 2858,
                "name": "ZeroEx",
                "nodeType": "EnumValue",
                "src": "487:6:3"
              }
            ],
            "name": "PurchaseMethod",
            "nodeType": "EnumDefinition",
            "src": "447:47:3"
          },
          {
            "canonicalName": "ProtocolAdapterTypes.OptionTerms",
            "id": 2874,
            "members": [
              {
                "constant": false,
                "id": 2861,
                "mutability": "mutable",
                "name": "underlying",
                "nodeType": "VariableDeclaration",
                "scope": 2874,
                "src": "1391:18:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 2860,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "1391:7:3",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2863,
                "mutability": "mutable",
                "name": "strikeAsset",
                "nodeType": "VariableDeclaration",
                "scope": 2874,
                "src": "1419:19:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 2862,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "1419:7:3",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2865,
                "mutability": "mutable",
                "name": "collateralAsset",
                "nodeType": "VariableDeclaration",
                "scope": 2874,
                "src": "1448:23:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 2864,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "1448:7:3",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2867,
                "mutability": "mutable",
                "name": "expiry",
                "nodeType": "VariableDeclaration",
                "scope": 2874,
                "src": "1481:14:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 2866,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1481:7:3",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2869,
                "mutability": "mutable",
                "name": "strikePrice",
                "nodeType": "VariableDeclaration",
                "scope": 2874,
                "src": "1505:19:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 2868,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1505:7:3",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2871,
                "mutability": "mutable",
                "name": "optionType",
                "nodeType": "VariableDeclaration",
                "scope": 2874,
                "src": "1534:42:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_enum$_OptionType_$2855",
                  "typeString": "enum ProtocolAdapterTypes.OptionType"
                },
                "typeName": {
                  "id": 2870,
                  "name": "ProtocolAdapterTypes.OptionType",
                  "nodeType": "UserDefinedTypeName",
                  "referencedDeclaration": 2855,
                  "src": "1534:31:3",
                  "typeDescriptions": {
                    "typeIdentifier": "t_enum$_OptionType_$2855",
                    "typeString": "enum ProtocolAdapterTypes.OptionType"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2873,
                "mutability": "mutable",
                "name": "paymentToken",
                "nodeType": "VariableDeclaration",
                "scope": 2874,
                "src": "1586:20:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 2872,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "1586:7:3",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              }
            ],
            "name": "OptionTerms",
            "nodeType": "StructDefinition",
            "scope": 2892,
            "src": "1362:251:3",
            "visibility": "public"
          },
          {
            "canonicalName": "ProtocolAdapterTypes.ZeroExOrder",
            "id": 2891,
            "members": [
              {
                "constant": false,
                "id": 2876,
                "mutability": "mutable",
                "name": "exchangeAddress",
                "nodeType": "VariableDeclaration",
                "scope": 2891,
                "src": "2400:23:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 2875,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "2400:7:3",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2878,
                "mutability": "mutable",
                "name": "buyTokenAddress",
                "nodeType": "VariableDeclaration",
                "scope": 2891,
                "src": "2433:23:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 2877,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "2433:7:3",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2880,
                "mutability": "mutable",
                "name": "sellTokenAddress",
                "nodeType": "VariableDeclaration",
                "scope": 2891,
                "src": "2466:24:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 2879,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "2466:7:3",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2882,
                "mutability": "mutable",
                "name": "allowanceTarget",
                "nodeType": "VariableDeclaration",
                "scope": 2891,
                "src": "2500:23:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                },
                "typeName": {
                  "id": 2881,
                  "name": "address",
                  "nodeType": "ElementaryTypeName",
                  "src": "2500:7:3",
                  "stateMutability": "nonpayable",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2884,
                "mutability": "mutable",
                "name": "protocolFee",
                "nodeType": "VariableDeclaration",
                "scope": 2891,
                "src": "2533:19:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 2883,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "2533:7:3",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2886,
                "mutability": "mutable",
                "name": "makerAssetAmount",
                "nodeType": "VariableDeclaration",
                "scope": 2891,
                "src": "2562:24:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 2885,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "2562:7:3",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2888,
                "mutability": "mutable",
                "name": "takerAssetAmount",
                "nodeType": "VariableDeclaration",
                "scope": 2891,
                "src": "2596:24:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 2887,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "2596:7:3",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 2890,
                "mutability": "mutable",
                "name": "swapData",
                "nodeType": "VariableDeclaration",
                "scope": 2891,
                "src": "2630:14:3",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_bytes_storage_ptr",
                  "typeString": "bytes"
                },
                "typeName": {
                  "id": 2889,
                  "name": "bytes",
                  "nodeType": "ElementaryTypeName",
                  "src": "2630:5:3",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_storage_ptr",
                    "typeString": "bytes"
                  }
                },
                "visibility": "internal"
              }
            ],
            "name": "ZeroExOrder",
            "nodeType": "StructDefinition",
            "scope": 2892,
            "src": "2371:280:3",
            "visibility": "public"
          }
        ],
        "scope": 3027,
        "src": "92:2561:3"
      },
      {
        "abstract": false,
        "baseContracts": [],
        "contractDependencies": [],
        "contractKind": "interface",
        "fullyImplemented": false,
        "id": 3026,
        "linearizedBaseContracts": [
          3026
        ],
        "name": "IProtocolAdapter",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "anonymous": false,
            "documentation": {
              "id": 2893,
              "nodeType": "StructuredDocumentation",
              "src": "2688:74:3",
              "text": " @notice Emitted when a new option contract is purchased"
            },
            "id": 2905,
            "name": "Purchased",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 2904,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2895,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "caller",
                  "nodeType": "VariableDeclaration",
                  "scope": 2905,
                  "src": "2792:22:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2894,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2792:7:3",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2897,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "protocolName",
                  "nodeType": "VariableDeclaration",
                  "scope": 2905,
                  "src": "2824:27:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_string_memory_ptr",
                    "typeString": "string"
                  },
                  "typeName": {
                    "id": 2896,
                    "name": "string",
                    "nodeType": "ElementaryTypeName",
                    "src": "2824:6:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_string_storage_ptr",
                      "typeString": "string"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2899,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "underlying",
                  "nodeType": "VariableDeclaration",
                  "scope": 2905,
                  "src": "2861:26:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2898,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "2861:7:3",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2901,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "amount",
                  "nodeType": "VariableDeclaration",
                  "scope": 2905,
                  "src": "2897:14:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2900,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2897:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2903,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "optionID",
                  "nodeType": "VariableDeclaration",
                  "scope": 2905,
                  "src": "2921:16:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2902,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2921:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2782:161:3"
            },
            "src": "2767:177:3"
          },
          {
            "anonymous": false,
            "documentation": {
              "id": 2906,
              "nodeType": "StructuredDocumentation",
              "src": "2950:71:3",
              "text": " @notice Emitted when an option contract is exercised"
            },
            "id": 2918,
            "name": "Exercised",
            "nodeType": "EventDefinition",
            "parameters": {
              "id": 2917,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2908,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "caller",
                  "nodeType": "VariableDeclaration",
                  "scope": 2918,
                  "src": "3051:22:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2907,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3051:7:3",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2910,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "options",
                  "nodeType": "VariableDeclaration",
                  "scope": 2918,
                  "src": "3083:23:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2909,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "3083:7:3",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2912,
                  "indexed": true,
                  "mutability": "mutable",
                  "name": "optionID",
                  "nodeType": "VariableDeclaration",
                  "scope": 2918,
                  "src": "3116:24:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2911,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3116:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2914,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "amount",
                  "nodeType": "VariableDeclaration",
                  "scope": 2918,
                  "src": "3150:14:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2913,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3150:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2916,
                  "indexed": false,
                  "mutability": "mutable",
                  "name": "exerciseProfit",
                  "nodeType": "VariableDeclaration",
                  "scope": 2918,
                  "src": "3174:22:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2915,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3174:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3041:161:3"
            },
            "src": "3026:177:3"
          },
          {
            "documentation": {
              "id": 2919,
              "nodeType": "StructuredDocumentation",
              "src": "3209:112:3",
              "text": " @notice Name of the adapter. E.g. \"HEGIC\", \"OPYN_V1\". Used as index key for adapter addresses"
            },
            "functionSelector": "e567e869",
            "id": 2924,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "protocolName",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2920,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3347:2:3"
            },
            "returnParameters": {
              "id": 2923,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2922,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 2924,
                  "src": "3373:13:3",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_string_memory_ptr",
                    "typeString": "string"
                  },
                  "typeName": {
                    "id": 2921,
                    "name": "string",
                    "nodeType": "ElementaryTypeName",
                    "src": "3373:6:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_string_storage_ptr",
                      "typeString": "string"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3372:15:3"
            },
            "scope": 3026,
            "src": "3326:62:3",
            "stateMutability": "pure",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 2925,
              "nodeType": "StructuredDocumentation",
              "src": "3394:162:3",
              "text": " @notice Boolean flag to indicate whether to use option IDs or not.\n Fungible protocols normally use tokens to represent option contracts."
            },
            "functionSelector": "bce3393f",
            "id": 2930,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "nonFungible",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2926,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3581:2:3"
            },
            "returnParameters": {
              "id": 2929,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2928,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 2930,
                  "src": "3607:4:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 2927,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "3607:4:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3606:6:3"
            },
            "scope": 3026,
            "src": "3561:52:3",
            "stateMutability": "pure",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 2931,
              "nodeType": "StructuredDocumentation",
              "src": "3619:79:3",
              "text": " @notice Returns the purchase method used to purchase options"
            },
            "functionSelector": "c2d8506b",
            "id": 2936,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "purchaseMethod",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2932,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3726:2:3"
            },
            "returnParameters": {
              "id": 2935,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2934,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 2936,
                  "src": "3776:35:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_enum$_PurchaseMethod_$2859",
                    "typeString": "enum ProtocolAdapterTypes.PurchaseMethod"
                  },
                  "typeName": {
                    "id": 2933,
                    "name": "ProtocolAdapterTypes.PurchaseMethod",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 2859,
                    "src": "3776:35:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_enum$_PurchaseMethod_$2859",
                      "typeString": "enum ProtocolAdapterTypes.PurchaseMethod"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3775:37:3"
            },
            "scope": 3026,
            "src": "3703:110:3",
            "stateMutability": "pure",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 2937,
              "nodeType": "StructuredDocumentation",
              "src": "3819:155:3",
              "text": " @notice Check if an options contract exist based on the passed parameters.\n @param optionTerms is the terms of the option contract"
            },
            "functionSelector": "81390d6b",
            "id": 2944,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "optionsExist",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2940,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2939,
                  "mutability": "mutable",
                  "name": "optionTerms",
                  "nodeType": "VariableDeclaration",
                  "scope": 2944,
                  "src": "4001:53:3",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_OptionTerms_$2874_calldata_ptr",
                    "typeString": "struct ProtocolAdapterTypes.OptionTerms"
                  },
                  "typeName": {
                    "id": 2938,
                    "name": "ProtocolAdapterTypes.OptionTerms",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 2874,
                    "src": "4001:32:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_OptionTerms_$2874_storage_ptr",
                      "typeString": "struct ProtocolAdapterTypes.OptionTerms"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4000:55:3"
            },
            "returnParameters": {
              "id": 2943,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2942,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 2944,
                  "src": "4103:4:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 2941,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "4103:4:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4102:6:3"
            },
            "scope": 3026,
            "src": "3979:130:3",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 2945,
              "nodeType": "StructuredDocumentation",
              "src": "4115:154:3",
              "text": " @notice Get the options contract's address based on the passed parameters\n @param optionTerms is the terms of the option contract"
            },
            "functionSelector": "6e2ccc52",
            "id": 2952,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "getOptionsAddress",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2948,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2947,
                  "mutability": "mutable",
                  "name": "optionTerms",
                  "nodeType": "VariableDeclaration",
                  "scope": 2952,
                  "src": "4310:53:3",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_OptionTerms_$2874_calldata_ptr",
                    "typeString": "struct ProtocolAdapterTypes.OptionTerms"
                  },
                  "typeName": {
                    "id": 2946,
                    "name": "ProtocolAdapterTypes.OptionTerms",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 2874,
                    "src": "4310:32:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_OptionTerms_$2874_storage_ptr",
                      "typeString": "struct ProtocolAdapterTypes.OptionTerms"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4300:69:3"
            },
            "returnParameters": {
              "id": 2951,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2950,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 2952,
                  "src": "4393:7:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2949,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "4393:7:3",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4392:9:3"
            },
            "scope": 3026,
            "src": "4274:128:3",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 2953,
              "nodeType": "StructuredDocumentation",
              "src": "4408:230:3",
              "text": " @notice Gets the premium to buy `purchaseAmount` of the option contract in ETH terms.\n @param optionTerms is the terms of the option contract\n @param purchaseAmount is the number of options purchased"
            },
            "functionSelector": "b63a3a6d",
            "id": 2962,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "premium",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2958,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2955,
                  "mutability": "mutable",
                  "name": "optionTerms",
                  "nodeType": "VariableDeclaration",
                  "scope": 2962,
                  "src": "4669:53:3",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_OptionTerms_$2874_calldata_ptr",
                    "typeString": "struct ProtocolAdapterTypes.OptionTerms"
                  },
                  "typeName": {
                    "id": 2954,
                    "name": "ProtocolAdapterTypes.OptionTerms",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 2874,
                    "src": "4669:32:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_OptionTerms_$2874_storage_ptr",
                      "typeString": "struct ProtocolAdapterTypes.OptionTerms"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2957,
                  "mutability": "mutable",
                  "name": "purchaseAmount",
                  "nodeType": "VariableDeclaration",
                  "scope": 2962,
                  "src": "4732:22:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2956,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4732:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4659:101:3"
            },
            "returnParameters": {
              "id": 2961,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2960,
                  "mutability": "mutable",
                  "name": "cost",
                  "nodeType": "VariableDeclaration",
                  "scope": 2962,
                  "src": "4784:12:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2959,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4784:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4783:14:3"
            },
            "scope": 3026,
            "src": "4643:155:3",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 2963,
              "nodeType": "StructuredDocumentation",
              "src": "4804:424:3",
              "text": " @notice Amount of profit made from exercising an option contract (current price - strike price). 0 if exercising out-the-money.\n @param options is the address of the options contract\n @param optionID is the ID of the option position in non fungible protocols like Hegic.\n @param amount is the amount of tokens or options contract to exercise. Only relevant for fungle protocols like Opyn"
            },
            "functionSelector": "d460094d",
            "id": 2974,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "exerciseProfit",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2970,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2965,
                  "mutability": "mutable",
                  "name": "options",
                  "nodeType": "VariableDeclaration",
                  "scope": 2974,
                  "src": "5266:15:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2964,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "5266:7:3",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2967,
                  "mutability": "mutable",
                  "name": "optionID",
                  "nodeType": "VariableDeclaration",
                  "scope": 2974,
                  "src": "5291:16:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2966,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5291:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2969,
                  "mutability": "mutable",
                  "name": "amount",
                  "nodeType": "VariableDeclaration",
                  "scope": 2974,
                  "src": "5317:14:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2968,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5317:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "5256:81:3"
            },
            "returnParameters": {
              "id": 2973,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2972,
                  "mutability": "mutable",
                  "name": "profit",
                  "nodeType": "VariableDeclaration",
                  "scope": 2974,
                  "src": "5361:14:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2971,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5361:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "5360:16:3"
            },
            "scope": 3026,
            "src": "5233:144:3",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "functionSelector": "b9e9683b",
            "id": 2985,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "canExercise",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2981,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2976,
                  "mutability": "mutable",
                  "name": "options",
                  "nodeType": "VariableDeclaration",
                  "scope": 2985,
                  "src": "5413:15:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2975,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "5413:7:3",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2978,
                  "mutability": "mutable",
                  "name": "optionID",
                  "nodeType": "VariableDeclaration",
                  "scope": 2985,
                  "src": "5438:16:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2977,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5438:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2980,
                  "mutability": "mutable",
                  "name": "amount",
                  "nodeType": "VariableDeclaration",
                  "scope": 2985,
                  "src": "5464:14:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2979,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5464:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "5403:81:3"
            },
            "returnParameters": {
              "id": 2984,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2983,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 2985,
                  "src": "5508:4:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 2982,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "5508:4:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "5507:6:3"
            },
            "scope": 3026,
            "src": "5383:131:3",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 2986,
              "nodeType": "StructuredDocumentation",
              "src": "5520:186:3",
              "text": " @notice Purchases the options contract.\n @param optionTerms is the terms of the option contract\n @param amount is the purchase amount in Wad units (10**18)"
            },
            "functionSelector": "d4454442",
            "id": 2997,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "purchase",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2993,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2988,
                  "mutability": "mutable",
                  "name": "optionTerms",
                  "nodeType": "VariableDeclaration",
                  "scope": 2997,
                  "src": "5738:53:3",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_OptionTerms_$2874_calldata_ptr",
                    "typeString": "struct ProtocolAdapterTypes.OptionTerms"
                  },
                  "typeName": {
                    "id": 2987,
                    "name": "ProtocolAdapterTypes.OptionTerms",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 2874,
                    "src": "5738:32:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_OptionTerms_$2874_storage_ptr",
                      "typeString": "struct ProtocolAdapterTypes.OptionTerms"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2990,
                  "mutability": "mutable",
                  "name": "amount",
                  "nodeType": "VariableDeclaration",
                  "scope": 2997,
                  "src": "5801:14:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2989,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5801:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2992,
                  "mutability": "mutable",
                  "name": "maxCost",
                  "nodeType": "VariableDeclaration",
                  "scope": 2997,
                  "src": "5825:15:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2991,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5825:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "5728:118:3"
            },
            "returnParameters": {
              "id": 2996,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2995,
                  "mutability": "mutable",
                  "name": "optionID",
                  "nodeType": "VariableDeclaration",
                  "scope": 2997,
                  "src": "5873:16:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2994,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "5873:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "5872:18:3"
            },
            "scope": 3026,
            "src": "5711:180:3",
            "stateMutability": "payable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 2998,
              "nodeType": "StructuredDocumentation",
              "src": "5897:515:3",
              "text": " @notice Exercises the options contract.\n @param options is the address of the options contract\n @param optionID is the ID of the option position in non fungible protocols like Hegic.\n @param amount is the amount of tokens or options contract to exercise. Only relevant for fungle protocols like Opyn\n @param recipient is the account that receives the exercised profits. This is needed since the adapter holds all the positions and the msg.sender is an instrument contract."
            },
            "functionSelector": "1984a805",
            "id": 3009,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "exercise",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3007,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3000,
                  "mutability": "mutable",
                  "name": "options",
                  "nodeType": "VariableDeclaration",
                  "scope": 3009,
                  "src": "6444:15:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2999,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "6444:7:3",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3002,
                  "mutability": "mutable",
                  "name": "optionID",
                  "nodeType": "VariableDeclaration",
                  "scope": 3009,
                  "src": "6469:16:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3001,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "6469:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3004,
                  "mutability": "mutable",
                  "name": "amount",
                  "nodeType": "VariableDeclaration",
                  "scope": 3009,
                  "src": "6495:14:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3003,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "6495:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3006,
                  "mutability": "mutable",
                  "name": "recipient",
                  "nodeType": "VariableDeclaration",
                  "scope": 3009,
                  "src": "6519:17:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 3005,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "6519:7:3",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "6434:108:3"
            },
            "returnParameters": {
              "id": 3008,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "6559:0:3"
            },
            "scope": 3026,
            "src": "6417:143:3",
            "stateMutability": "payable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 3010,
              "nodeType": "StructuredDocumentation",
              "src": "6566:188:3",
              "text": " @notice Opens a short position for a given `optionTerms`.\n @param optionTerms is the terms of the option contract\n @param amount is the short position amount"
            },
            "functionSelector": "6c3fac58",
            "id": 3019,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "createShort",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3015,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3012,
                  "mutability": "mutable",
                  "name": "optionTerms",
                  "nodeType": "VariableDeclaration",
                  "scope": 3019,
                  "src": "6789:53:3",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_OptionTerms_$2874_calldata_ptr",
                    "typeString": "struct ProtocolAdapterTypes.OptionTerms"
                  },
                  "typeName": {
                    "id": 3011,
                    "name": "ProtocolAdapterTypes.OptionTerms",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 2874,
                    "src": "6789:32:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_OptionTerms_$2874_storage_ptr",
                      "typeString": "struct ProtocolAdapterTypes.OptionTerms"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3014,
                  "mutability": "mutable",
                  "name": "amount",
                  "nodeType": "VariableDeclaration",
                  "scope": 3019,
                  "src": "6852:14:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3013,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "6852:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "6779:93:3"
            },
            "returnParameters": {
              "id": 3018,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3017,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3019,
                  "src": "6891:7:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3016,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "6891:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "6890:9:3"
            },
            "scope": 3026,
            "src": "6759:141:3",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "documentation": {
              "id": 3020,
              "nodeType": "StructuredDocumentation",
              "src": "6906:156:3",
              "text": " @notice Closes an existing short position. In the future, we may want to open this up to specifying a particular short position to close."
            },
            "functionSelector": "f8432a1b",
            "id": 3025,
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "closeShort",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3021,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "7086:2:3"
            },
            "returnParameters": {
              "id": 3024,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3023,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3025,
                  "src": "7107:7:3",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3022,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "7107:7:3",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "7106:9:3"
            },
            "scope": 3026,
            "src": "7067:49:3",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          }
        ],
        "scope": 3027,
        "src": "2655:4463:3"
      }
    ],
    "src": "32:7087:3"
  },
  "legacyAST": {
    "attributes": {
      "absolutePath": "/Users/kenchan/Desktop/structured-products/contracts/adapters/IProtocolAdapter.sol",
      "exportedSymbols": {
        "IProtocolAdapter": [
          3026
        ],
        "ProtocolAdapterTypes": [
          2892
        ]
      },
      "license": "MIT"
    },
    "children": [
      {
        "attributes": {
          "literals": [
            "solidity",
            ">=",
            "0.7",
            ".2"
          ]
        },
        "id": 2850,
        "name": "PragmaDirective",
        "src": "32:24:3"
      },
      {
        "attributes": {
          "literals": [
            "experimental",
            "ABIEncoderV2"
          ]
        },
        "id": 2851,
        "name": "PragmaDirective",
        "src": "57:33:3"
      },
      {
        "attributes": {
          "abstract": false,
          "baseContracts": [
            null
          ],
          "contractDependencies": [
            null
          ],
          "contractKind": "library",
          "fullyImplemented": true,
          "linearizedBaseContracts": [
            2892
          ],
          "name": "ProtocolAdapterTypes",
          "scope": 3027
        },
        "children": [
          {
            "attributes": {
              "canonicalName": "ProtocolAdapterTypes.OptionType",
              "name": "OptionType"
            },
            "children": [
              {
                "attributes": {
                  "name": "Invalid"
                },
                "id": 2852,
                "name": "EnumValue",
                "src": "144:7:3"
              },
              {
                "attributes": {
                  "name": "Put"
                },
                "id": 2853,
                "name": "EnumValue",
                "src": "153:3:3"
              },
              {
                "attributes": {
                  "name": "Call"
                },
                "id": 2854,
                "name": "EnumValue",
                "src": "158:4:3"
              }
            ],
            "id": 2855,
            "name": "EnumDefinition",
            "src": "127:36:3"
          },
          {
            "attributes": {
              "canonicalName": "ProtocolAdapterTypes.PurchaseMethod",
              "name": "PurchaseMethod"
            },
            "children": [
              {
                "attributes": {
                  "name": "Invalid"
                },
                "id": 2856,
                "name": "EnumValue",
                "src": "468:7:3"
              },
              {
                "attributes": {
                  "name": "Contract"
                },
                "id": 2857,
                "name": "EnumValue",
                "src": "477:8:3"
              },
              {
                "attributes": {
                  "name": "ZeroEx"
                },
                "id": 2858,
                "name": "EnumValue",
                "src": "487:6:3"
              }
            ],
            "id": 2859,
            "name": "EnumDefinition",
            "src": "447:47:3"
          },
          {
            "attributes": {
              "canonicalName": "ProtocolAdapterTypes.OptionTerms",
              "name": "OptionTerms",
              "scope": 2892,
              "visibility": "public"
            },
            "children": [
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "underlying",
                  "scope": 2874,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "address",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "address",
                      "stateMutability": "nonpayable",
                      "type": "address"
                    },
                    "id": 2860,
                    "name": "ElementaryTypeName",
                    "src": "1391:7:3"
                  }
                ],
                "id": 2861,
                "name": "VariableDeclaration",
                "src": "1391:18:3"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "strikeAsset",
                  "scope": 2874,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "address",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "address",
                      "stateMutability": "nonpayable",
                      "type": "address"
                    },
                    "id": 2862,
                    "name": "ElementaryTypeName",
                    "src": "1419:7:3"
                  }
                ],
                "id": 2863,
                "name": "VariableDeclaration",
                "src": "1419:19:3"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "collateralAsset",
                  "scope": 2874,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "address",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "address",
                      "stateMutability": "nonpayable",
                      "type": "address"
                    },
                    "id": 2864,
                    "name": "ElementaryTypeName",
                    "src": "1448:7:3"
                  }
                ],
                "id": 2865,
                "name": "VariableDeclaration",
                "src": "1448:23:3"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "expiry",
                  "scope": 2874,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "uint256",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "uint256",
                      "type": "uint256"
                    },
                    "id": 2866,
                    "name": "ElementaryTypeName",
                    "src": "1481:7:3"
                  }
                ],
                "id": 2867,
                "name": "VariableDeclaration",
                "src": "1481:14:3"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "strikePrice",
                  "scope": 2874,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "uint256",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "uint256",
                      "type": "uint256"
                    },
                    "id": 2868,
                    "name": "ElementaryTypeName",
                    "src": "1505:7:3"
                  }
                ],
                "id": 2869,
                "name": "VariableDeclaration",
                "src": "1505:19:3"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "optionType",
                  "scope": 2874,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "enum ProtocolAdapterTypes.OptionType",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "ProtocolAdapterTypes.OptionType",
                      "referencedDeclaration": 2855,
                      "type": "enum ProtocolAdapterTypes.OptionType"
                    },
                    "id": 2870,
                    "name": "UserDefinedTypeName",
                    "src": "1534:31:3"
                  }
                ],
                "id": 2871,
                "name": "VariableDeclaration",
                "src": "1534:42:3"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "paymentToken",
                  "scope": 2874,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "address",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "address",
                      "stateMutability": "nonpayable",
                      "type": "address"
                    },
                    "id": 2872,
                    "name": "ElementaryTypeName",
                    "src": "1586:7:3"
                  }
                ],
                "id": 2873,
                "name": "VariableDeclaration",
                "src": "1586:20:3"
              }
            ],
            "id": 2874,
            "name": "StructDefinition",
            "src": "1362:251:3"
          },
          {
            "attributes": {
              "canonicalName": "ProtocolAdapterTypes.ZeroExOrder",
              "name": "ZeroExOrder",
              "scope": 2892,
              "visibility": "public"
            },
            "children": [
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "exchangeAddress",
                  "scope": 2891,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "address",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "address",
                      "stateMutability": "nonpayable",
                      "type": "address"
                    },
                    "id": 2875,
                    "name": "ElementaryTypeName",
                    "src": "2400:7:3"
                  }
                ],
                "id": 2876,
                "name": "VariableDeclaration",
                "src": "2400:23:3"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "buyTokenAddress",
                  "scope": 2891,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "address",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "address",
                      "stateMutability": "nonpayable",
                      "type": "address"
                    },
                    "id": 2877,
                    "name": "ElementaryTypeName",
                    "src": "2433:7:3"
                  }
                ],
                "id": 2878,
                "name": "VariableDeclaration",
                "src": "2433:23:3"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "sellTokenAddress",
                  "scope": 2891,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "address",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "address",
                      "stateMutability": "nonpayable",
                      "type": "address"
                    },
                    "id": 2879,
                    "name": "ElementaryTypeName",
                    "src": "2466:7:3"
                  }
                ],
                "id": 2880,
                "name": "VariableDeclaration",
                "src": "2466:24:3"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "allowanceTarget",
                  "scope": 2891,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "address",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "address",
                      "stateMutability": "nonpayable",
                      "type": "address"
                    },
                    "id": 2881,
                    "name": "ElementaryTypeName",
                    "src": "2500:7:3"
                  }
                ],
                "id": 2882,
                "name": "VariableDeclaration",
                "src": "2500:23:3"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "protocolFee",
                  "scope": 2891,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "uint256",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "uint256",
                      "type": "uint256"
                    },
                    "id": 2883,
                    "name": "ElementaryTypeName",
                    "src": "2533:7:3"
                  }
                ],
                "id": 2884,
                "name": "VariableDeclaration",
                "src": "2533:19:3"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "makerAssetAmount",
                  "scope": 2891,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "uint256",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "uint256",
                      "type": "uint256"
                    },
                    "id": 2885,
                    "name": "ElementaryTypeName",
                    "src": "2562:7:3"
                  }
                ],
                "id": 2886,
                "name": "VariableDeclaration",
                "src": "2562:24:3"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "takerAssetAmount",
                  "scope": 2891,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "uint256",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "uint256",
                      "type": "uint256"
                    },
                    "id": 2887,
                    "name": "ElementaryTypeName",
                    "src": "2596:7:3"
                  }
                ],
                "id": 2888,
                "name": "VariableDeclaration",
                "src": "2596:24:3"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "swapData",
                  "scope": 2891,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "bytes",
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "bytes",
                      "type": "bytes"
                    },
                    "id": 2889,
                    "name": "ElementaryTypeName",
                    "src": "2630:5:3"
                  }
                ],
                "id": 2890,
                "name": "VariableDeclaration",
                "src": "2630:14:3"
              }
            ],
            "id": 2891,
            "name": "StructDefinition",
            "src": "2371:280:3"
          }
        ],
        "id": 2892,
        "name": "ContractDefinition",
        "src": "92:2561:3"
      },
      {
        "attributes": {
          "abstract": false,
          "baseContracts": [
            null
          ],
          "contractDependencies": [
            null
          ],
          "contractKind": "interface",
          "fullyImplemented": false,
          "linearizedBaseContracts": [
            3026
          ],
          "name": "IProtocolAdapter",
          "scope": 3027
        },
        "children": [
          {
            "attributes": {
              "anonymous": false,
              "name": "Purchased"
            },
            "children": [
              {
                "attributes": {
                  "text": " @notice Emitted when a new option contract is purchased"
                },
                "id": 2893,
                "name": "StructuredDocumentation",
                "src": "2688:74:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "indexed": true,
                      "mutability": "mutable",
                      "name": "caller",
                      "scope": 2905,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "address",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "address",
                          "stateMutability": "nonpayable",
                          "type": "address"
                        },
                        "id": 2894,
                        "name": "ElementaryTypeName",
                        "src": "2792:7:3"
                      }
                    ],
                    "id": 2895,
                    "name": "VariableDeclaration",
                    "src": "2792:22:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "indexed": true,
                      "mutability": "mutable",
                      "name": "protocolName",
                      "scope": 2905,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "string",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "string",
                          "type": "string"
                        },
                        "id": 2896,
                        "name": "ElementaryTypeName",
                        "src": "2824:6:3"
                      }
                    ],
                    "id": 2897,
                    "name": "VariableDeclaration",
                    "src": "2824:27:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "indexed": true,
                      "mutability": "mutable",
                      "name": "underlying",
                      "scope": 2905,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "address",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "address",
                          "stateMutability": "nonpayable",
                          "type": "address"
                        },
                        "id": 2898,
                        "name": "ElementaryTypeName",
                        "src": "2861:7:3"
                      }
                    ],
                    "id": 2899,
                    "name": "VariableDeclaration",
                    "src": "2861:26:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "indexed": false,
                      "mutability": "mutable",
                      "name": "amount",
                      "scope": 2905,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2900,
                        "name": "ElementaryTypeName",
                        "src": "2897:7:3"
                      }
                    ],
                    "id": 2901,
                    "name": "VariableDeclaration",
                    "src": "2897:14:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "indexed": false,
                      "mutability": "mutable",
                      "name": "optionID",
                      "scope": 2905,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2902,
                        "name": "ElementaryTypeName",
                        "src": "2921:7:3"
                      }
                    ],
                    "id": 2903,
                    "name": "VariableDeclaration",
                    "src": "2921:16:3"
                  }
                ],
                "id": 2904,
                "name": "ParameterList",
                "src": "2782:161:3"
              }
            ],
            "id": 2905,
            "name": "EventDefinition",
            "src": "2767:177:3"
          },
          {
            "attributes": {
              "anonymous": false,
              "name": "Exercised"
            },
            "children": [
              {
                "attributes": {
                  "text": " @notice Emitted when an option contract is exercised"
                },
                "id": 2906,
                "name": "StructuredDocumentation",
                "src": "2950:71:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "indexed": true,
                      "mutability": "mutable",
                      "name": "caller",
                      "scope": 2918,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "address",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "address",
                          "stateMutability": "nonpayable",
                          "type": "address"
                        },
                        "id": 2907,
                        "name": "ElementaryTypeName",
                        "src": "3051:7:3"
                      }
                    ],
                    "id": 2908,
                    "name": "VariableDeclaration",
                    "src": "3051:22:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "indexed": true,
                      "mutability": "mutable",
                      "name": "options",
                      "scope": 2918,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "address",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "address",
                          "stateMutability": "nonpayable",
                          "type": "address"
                        },
                        "id": 2909,
                        "name": "ElementaryTypeName",
                        "src": "3083:7:3"
                      }
                    ],
                    "id": 2910,
                    "name": "VariableDeclaration",
                    "src": "3083:23:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "indexed": true,
                      "mutability": "mutable",
                      "name": "optionID",
                      "scope": 2918,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2911,
                        "name": "ElementaryTypeName",
                        "src": "3116:7:3"
                      }
                    ],
                    "id": 2912,
                    "name": "VariableDeclaration",
                    "src": "3116:24:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "indexed": false,
                      "mutability": "mutable",
                      "name": "amount",
                      "scope": 2918,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2913,
                        "name": "ElementaryTypeName",
                        "src": "3150:7:3"
                      }
                    ],
                    "id": 2914,
                    "name": "VariableDeclaration",
                    "src": "3150:14:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "indexed": false,
                      "mutability": "mutable",
                      "name": "exerciseProfit",
                      "scope": 2918,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2915,
                        "name": "ElementaryTypeName",
                        "src": "3174:7:3"
                      }
                    ],
                    "id": 2916,
                    "name": "VariableDeclaration",
                    "src": "3174:22:3"
                  }
                ],
                "id": 2917,
                "name": "ParameterList",
                "src": "3041:161:3"
              }
            ],
            "id": 2918,
            "name": "EventDefinition",
            "src": "3026:177:3"
          },
          {
            "attributes": {
              "functionSelector": "e567e869",
              "implemented": false,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "protocolName",
              "scope": 3026,
              "stateMutability": "pure",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": " @notice Name of the adapter. E.g. \"HEGIC\", \"OPYN_V1\". Used as index key for adapter addresses"
                },
                "id": 2919,
                "name": "StructuredDocumentation",
                "src": "3209:112:3"
              },
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 2920,
                "name": "ParameterList",
                "src": "3347:2:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "",
                      "scope": 2924,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "string",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "string",
                          "type": "string"
                        },
                        "id": 2921,
                        "name": "ElementaryTypeName",
                        "src": "3373:6:3"
                      }
                    ],
                    "id": 2922,
                    "name": "VariableDeclaration",
                    "src": "3373:13:3"
                  }
                ],
                "id": 2923,
                "name": "ParameterList",
                "src": "3372:15:3"
              }
            ],
            "id": 2924,
            "name": "FunctionDefinition",
            "src": "3326:62:3"
          },
          {
            "attributes": {
              "functionSelector": "bce3393f",
              "implemented": false,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "nonFungible",
              "scope": 3026,
              "stateMutability": "pure",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": " @notice Boolean flag to indicate whether to use option IDs or not.\n Fungible protocols normally use tokens to represent option contracts."
                },
                "id": 2925,
                "name": "StructuredDocumentation",
                "src": "3394:162:3"
              },
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 2926,
                "name": "ParameterList",
                "src": "3581:2:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "",
                      "scope": 2930,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "bool",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "bool",
                          "type": "bool"
                        },
                        "id": 2927,
                        "name": "ElementaryTypeName",
                        "src": "3607:4:3"
                      }
                    ],
                    "id": 2928,
                    "name": "VariableDeclaration",
                    "src": "3607:4:3"
                  }
                ],
                "id": 2929,
                "name": "ParameterList",
                "src": "3606:6:3"
              }
            ],
            "id": 2930,
            "name": "FunctionDefinition",
            "src": "3561:52:3"
          },
          {
            "attributes": {
              "functionSelector": "c2d8506b",
              "implemented": false,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "purchaseMethod",
              "scope": 3026,
              "stateMutability": "pure",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": " @notice Returns the purchase method used to purchase options"
                },
                "id": 2931,
                "name": "StructuredDocumentation",
                "src": "3619:79:3"
              },
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 2932,
                "name": "ParameterList",
                "src": "3726:2:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "",
                      "scope": 2936,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "enum ProtocolAdapterTypes.PurchaseMethod",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "ProtocolAdapterTypes.PurchaseMethod",
                          "referencedDeclaration": 2859,
                          "type": "enum ProtocolAdapterTypes.PurchaseMethod"
                        },
                        "id": 2933,
                        "name": "UserDefinedTypeName",
                        "src": "3776:35:3"
                      }
                    ],
                    "id": 2934,
                    "name": "VariableDeclaration",
                    "src": "3776:35:3"
                  }
                ],
                "id": 2935,
                "name": "ParameterList",
                "src": "3775:37:3"
              }
            ],
            "id": 2936,
            "name": "FunctionDefinition",
            "src": "3703:110:3"
          },
          {
            "attributes": {
              "functionSelector": "81390d6b",
              "implemented": false,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "optionsExist",
              "scope": 3026,
              "stateMutability": "view",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": " @notice Check if an options contract exist based on the passed parameters.\n @param optionTerms is the terms of the option contract"
                },
                "id": 2937,
                "name": "StructuredDocumentation",
                "src": "3819:155:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "optionTerms",
                      "scope": 2944,
                      "stateVariable": false,
                      "storageLocation": "calldata",
                      "type": "struct ProtocolAdapterTypes.OptionTerms",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "ProtocolAdapterTypes.OptionTerms",
                          "referencedDeclaration": 2874,
                          "type": "struct ProtocolAdapterTypes.OptionTerms"
                        },
                        "id": 2938,
                        "name": "UserDefinedTypeName",
                        "src": "4001:32:3"
                      }
                    ],
                    "id": 2939,
                    "name": "VariableDeclaration",
                    "src": "4001:53:3"
                  }
                ],
                "id": 2940,
                "name": "ParameterList",
                "src": "4000:55:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "",
                      "scope": 2944,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "bool",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "bool",
                          "type": "bool"
                        },
                        "id": 2941,
                        "name": "ElementaryTypeName",
                        "src": "4103:4:3"
                      }
                    ],
                    "id": 2942,
                    "name": "VariableDeclaration",
                    "src": "4103:4:3"
                  }
                ],
                "id": 2943,
                "name": "ParameterList",
                "src": "4102:6:3"
              }
            ],
            "id": 2944,
            "name": "FunctionDefinition",
            "src": "3979:130:3"
          },
          {
            "attributes": {
              "functionSelector": "6e2ccc52",
              "implemented": false,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "getOptionsAddress",
              "scope": 3026,
              "stateMutability": "view",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": " @notice Get the options contract's address based on the passed parameters\n @param optionTerms is the terms of the option contract"
                },
                "id": 2945,
                "name": "StructuredDocumentation",
                "src": "4115:154:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "optionTerms",
                      "scope": 2952,
                      "stateVariable": false,
                      "storageLocation": "calldata",
                      "type": "struct ProtocolAdapterTypes.OptionTerms",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "ProtocolAdapterTypes.OptionTerms",
                          "referencedDeclaration": 2874,
                          "type": "struct ProtocolAdapterTypes.OptionTerms"
                        },
                        "id": 2946,
                        "name": "UserDefinedTypeName",
                        "src": "4310:32:3"
                      }
                    ],
                    "id": 2947,
                    "name": "VariableDeclaration",
                    "src": "4310:53:3"
                  }
                ],
                "id": 2948,
                "name": "ParameterList",
                "src": "4300:69:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "",
                      "scope": 2952,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "address",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "address",
                          "stateMutability": "nonpayable",
                          "type": "address"
                        },
                        "id": 2949,
                        "name": "ElementaryTypeName",
                        "src": "4393:7:3"
                      }
                    ],
                    "id": 2950,
                    "name": "VariableDeclaration",
                    "src": "4393:7:3"
                  }
                ],
                "id": 2951,
                "name": "ParameterList",
                "src": "4392:9:3"
              }
            ],
            "id": 2952,
            "name": "FunctionDefinition",
            "src": "4274:128:3"
          },
          {
            "attributes": {
              "functionSelector": "b63a3a6d",
              "implemented": false,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "premium",
              "scope": 3026,
              "stateMutability": "view",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": " @notice Gets the premium to buy `purchaseAmount` of the option contract in ETH terms.\n @param optionTerms is the terms of the option contract\n @param purchaseAmount is the number of options purchased"
                },
                "id": 2953,
                "name": "StructuredDocumentation",
                "src": "4408:230:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "optionTerms",
                      "scope": 2962,
                      "stateVariable": false,
                      "storageLocation": "calldata",
                      "type": "struct ProtocolAdapterTypes.OptionTerms",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "ProtocolAdapterTypes.OptionTerms",
                          "referencedDeclaration": 2874,
                          "type": "struct ProtocolAdapterTypes.OptionTerms"
                        },
                        "id": 2954,
                        "name": "UserDefinedTypeName",
                        "src": "4669:32:3"
                      }
                    ],
                    "id": 2955,
                    "name": "VariableDeclaration",
                    "src": "4669:53:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "purchaseAmount",
                      "scope": 2962,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2956,
                        "name": "ElementaryTypeName",
                        "src": "4732:7:3"
                      }
                    ],
                    "id": 2957,
                    "name": "VariableDeclaration",
                    "src": "4732:22:3"
                  }
                ],
                "id": 2958,
                "name": "ParameterList",
                "src": "4659:101:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "cost",
                      "scope": 2962,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2959,
                        "name": "ElementaryTypeName",
                        "src": "4784:7:3"
                      }
                    ],
                    "id": 2960,
                    "name": "VariableDeclaration",
                    "src": "4784:12:3"
                  }
                ],
                "id": 2961,
                "name": "ParameterList",
                "src": "4783:14:3"
              }
            ],
            "id": 2962,
            "name": "FunctionDefinition",
            "src": "4643:155:3"
          },
          {
            "attributes": {
              "functionSelector": "d460094d",
              "implemented": false,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "exerciseProfit",
              "scope": 3026,
              "stateMutability": "view",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": " @notice Amount of profit made from exercising an option contract (current price - strike price). 0 if exercising out-the-money.\n @param options is the address of the options contract\n @param optionID is the ID of the option position in non fungible protocols like Hegic.\n @param amount is the amount of tokens or options contract to exercise. Only relevant for fungle protocols like Opyn"
                },
                "id": 2963,
                "name": "StructuredDocumentation",
                "src": "4804:424:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "options",
                      "scope": 2974,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "address",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "address",
                          "stateMutability": "nonpayable",
                          "type": "address"
                        },
                        "id": 2964,
                        "name": "ElementaryTypeName",
                        "src": "5266:7:3"
                      }
                    ],
                    "id": 2965,
                    "name": "VariableDeclaration",
                    "src": "5266:15:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "optionID",
                      "scope": 2974,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2966,
                        "name": "ElementaryTypeName",
                        "src": "5291:7:3"
                      }
                    ],
                    "id": 2967,
                    "name": "VariableDeclaration",
                    "src": "5291:16:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "amount",
                      "scope": 2974,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2968,
                        "name": "ElementaryTypeName",
                        "src": "5317:7:3"
                      }
                    ],
                    "id": 2969,
                    "name": "VariableDeclaration",
                    "src": "5317:14:3"
                  }
                ],
                "id": 2970,
                "name": "ParameterList",
                "src": "5256:81:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "profit",
                      "scope": 2974,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2971,
                        "name": "ElementaryTypeName",
                        "src": "5361:7:3"
                      }
                    ],
                    "id": 2972,
                    "name": "VariableDeclaration",
                    "src": "5361:14:3"
                  }
                ],
                "id": 2973,
                "name": "ParameterList",
                "src": "5360:16:3"
              }
            ],
            "id": 2974,
            "name": "FunctionDefinition",
            "src": "5233:144:3"
          },
          {
            "attributes": {
              "functionSelector": "b9e9683b",
              "implemented": false,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "canExercise",
              "scope": 3026,
              "stateMutability": "view",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "options",
                      "scope": 2985,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "address",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "address",
                          "stateMutability": "nonpayable",
                          "type": "address"
                        },
                        "id": 2975,
                        "name": "ElementaryTypeName",
                        "src": "5413:7:3"
                      }
                    ],
                    "id": 2976,
                    "name": "VariableDeclaration",
                    "src": "5413:15:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "optionID",
                      "scope": 2985,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2977,
                        "name": "ElementaryTypeName",
                        "src": "5438:7:3"
                      }
                    ],
                    "id": 2978,
                    "name": "VariableDeclaration",
                    "src": "5438:16:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "amount",
                      "scope": 2985,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2979,
                        "name": "ElementaryTypeName",
                        "src": "5464:7:3"
                      }
                    ],
                    "id": 2980,
                    "name": "VariableDeclaration",
                    "src": "5464:14:3"
                  }
                ],
                "id": 2981,
                "name": "ParameterList",
                "src": "5403:81:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "",
                      "scope": 2985,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "bool",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "bool",
                          "type": "bool"
                        },
                        "id": 2982,
                        "name": "ElementaryTypeName",
                        "src": "5508:4:3"
                      }
                    ],
                    "id": 2983,
                    "name": "VariableDeclaration",
                    "src": "5508:4:3"
                  }
                ],
                "id": 2984,
                "name": "ParameterList",
                "src": "5507:6:3"
              }
            ],
            "id": 2985,
            "name": "FunctionDefinition",
            "src": "5383:131:3"
          },
          {
            "attributes": {
              "functionSelector": "d4454442",
              "implemented": false,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "purchase",
              "scope": 3026,
              "stateMutability": "payable",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": " @notice Purchases the options contract.\n @param optionTerms is the terms of the option contract\n @param amount is the purchase amount in Wad units (10**18)"
                },
                "id": 2986,
                "name": "StructuredDocumentation",
                "src": "5520:186:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "optionTerms",
                      "scope": 2997,
                      "stateVariable": false,
                      "storageLocation": "calldata",
                      "type": "struct ProtocolAdapterTypes.OptionTerms",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "ProtocolAdapterTypes.OptionTerms",
                          "referencedDeclaration": 2874,
                          "type": "struct ProtocolAdapterTypes.OptionTerms"
                        },
                        "id": 2987,
                        "name": "UserDefinedTypeName",
                        "src": "5738:32:3"
                      }
                    ],
                    "id": 2988,
                    "name": "VariableDeclaration",
                    "src": "5738:53:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "amount",
                      "scope": 2997,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2989,
                        "name": "ElementaryTypeName",
                        "src": "5801:7:3"
                      }
                    ],
                    "id": 2990,
                    "name": "VariableDeclaration",
                    "src": "5801:14:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "maxCost",
                      "scope": 2997,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2991,
                        "name": "ElementaryTypeName",
                        "src": "5825:7:3"
                      }
                    ],
                    "id": 2992,
                    "name": "VariableDeclaration",
                    "src": "5825:15:3"
                  }
                ],
                "id": 2993,
                "name": "ParameterList",
                "src": "5728:118:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "optionID",
                      "scope": 2997,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 2994,
                        "name": "ElementaryTypeName",
                        "src": "5873:7:3"
                      }
                    ],
                    "id": 2995,
                    "name": "VariableDeclaration",
                    "src": "5873:16:3"
                  }
                ],
                "id": 2996,
                "name": "ParameterList",
                "src": "5872:18:3"
              }
            ],
            "id": 2997,
            "name": "FunctionDefinition",
            "src": "5711:180:3"
          },
          {
            "attributes": {
              "functionSelector": "1984a805",
              "implemented": false,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "exercise",
              "scope": 3026,
              "stateMutability": "payable",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": " @notice Exercises the options contract.\n @param options is the address of the options contract\n @param optionID is the ID of the option position in non fungible protocols like Hegic.\n @param amount is the amount of tokens or options contract to exercise. Only relevant for fungle protocols like Opyn\n @param recipient is the account that receives the exercised profits. This is needed since the adapter holds all the positions and the msg.sender is an instrument contract."
                },
                "id": 2998,
                "name": "StructuredDocumentation",
                "src": "5897:515:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "options",
                      "scope": 3009,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "address",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "address",
                          "stateMutability": "nonpayable",
                          "type": "address"
                        },
                        "id": 2999,
                        "name": "ElementaryTypeName",
                        "src": "6444:7:3"
                      }
                    ],
                    "id": 3000,
                    "name": "VariableDeclaration",
                    "src": "6444:15:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "optionID",
                      "scope": 3009,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3001,
                        "name": "ElementaryTypeName",
                        "src": "6469:7:3"
                      }
                    ],
                    "id": 3002,
                    "name": "VariableDeclaration",
                    "src": "6469:16:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "amount",
                      "scope": 3009,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3003,
                        "name": "ElementaryTypeName",
                        "src": "6495:7:3"
                      }
                    ],
                    "id": 3004,
                    "name": "VariableDeclaration",
                    "src": "6495:14:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "recipient",
                      "scope": 3009,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "address",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "address",
                          "stateMutability": "nonpayable",
                          "type": "address"
                        },
                        "id": 3005,
                        "name": "ElementaryTypeName",
                        "src": "6519:7:3"
                      }
                    ],
                    "id": 3006,
                    "name": "VariableDeclaration",
                    "src": "6519:17:3"
                  }
                ],
                "id": 3007,
                "name": "ParameterList",
                "src": "6434:108:3"
              },
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 3008,
                "name": "ParameterList",
                "src": "6559:0:3"
              }
            ],
            "id": 3009,
            "name": "FunctionDefinition",
            "src": "6417:143:3"
          },
          {
            "attributes": {
              "functionSelector": "6c3fac58",
              "implemented": false,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "createShort",
              "scope": 3026,
              "stateMutability": "nonpayable",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": " @notice Opens a short position for a given `optionTerms`.\n @param optionTerms is the terms of the option contract\n @param amount is the short position amount"
                },
                "id": 3010,
                "name": "StructuredDocumentation",
                "src": "6566:188:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "optionTerms",
                      "scope": 3019,
                      "stateVariable": false,
                      "storageLocation": "calldata",
                      "type": "struct ProtocolAdapterTypes.OptionTerms",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "ProtocolAdapterTypes.OptionTerms",
                          "referencedDeclaration": 2874,
                          "type": "struct ProtocolAdapterTypes.OptionTerms"
                        },
                        "id": 3011,
                        "name": "UserDefinedTypeName",
                        "src": "6789:32:3"
                      }
                    ],
                    "id": 3012,
                    "name": "VariableDeclaration",
                    "src": "6789:53:3"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "amount",
                      "scope": 3019,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3013,
                        "name": "ElementaryTypeName",
                        "src": "6852:7:3"
                      }
                    ],
                    "id": 3014,
                    "name": "VariableDeclaration",
                    "src": "6852:14:3"
                  }
                ],
                "id": 3015,
                "name": "ParameterList",
                "src": "6779:93:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "",
                      "scope": 3019,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3016,
                        "name": "ElementaryTypeName",
                        "src": "6891:7:3"
                      }
                    ],
                    "id": 3017,
                    "name": "VariableDeclaration",
                    "src": "6891:7:3"
                  }
                ],
                "id": 3018,
                "name": "ParameterList",
                "src": "6890:9:3"
              }
            ],
            "id": 3019,
            "name": "FunctionDefinition",
            "src": "6759:141:3"
          },
          {
            "attributes": {
              "functionSelector": "f8432a1b",
              "implemented": false,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "closeShort",
              "scope": 3026,
              "stateMutability": "nonpayable",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": " @notice Closes an existing short position. In the future, we may want to open this up to specifying a particular short position to close."
                },
                "id": 3020,
                "name": "StructuredDocumentation",
                "src": "6906:156:3"
              },
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 3021,
                "name": "ParameterList",
                "src": "7086:2:3"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "",
                      "scope": 3025,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3022,
                        "name": "ElementaryTypeName",
                        "src": "7107:7:3"
                      }
                    ],
                    "id": 3023,
                    "name": "VariableDeclaration",
                    "src": "7107:7:3"
                  }
                ],
                "id": 3024,
                "name": "ParameterList",
                "src": "7106:9:3"
              }
            ],
            "id": 3025,
            "name": "FunctionDefinition",
            "src": "7067:49:3"
          }
        ],
        "id": 3026,
        "name": "ContractDefinition",
        "src": "2655:4463:3"
      }
    ],
    "id": 3027,
    "name": "SourceUnit",
    "src": "32:7087:3"
  },
  "compiler": {
    "name": "solc",
    "version": "0.7.2+commit.51b20bc0.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "3.3.4",
  "updatedAt": "2021-03-18T11:36:22.146Z",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "createShort((address,address,address,uint256,uint256,uint8,address),uint256)": {
        "params": {
          "amount": "is the short position amount",
          "optionTerms": "is the terms of the option contract"
        }
      },
      "exercise(address,uint256,uint256,address)": {
        "params": {
          "amount": "is the amount of tokens or options contract to exercise. Only relevant for fungle protocols like Opyn",
          "optionID": "is the ID of the option position in non fungible protocols like Hegic.",
          "options": "is the address of the options contract",
          "recipient": "is the account that receives the exercised profits. This is needed since the adapter holds all the positions and the msg.sender is an instrument contract."
        }
      },
      "exerciseProfit(address,uint256,uint256)": {
        "params": {
          "amount": "is the amount of tokens or options contract to exercise. Only relevant for fungle protocols like Opyn",
          "optionID": "is the ID of the option position in non fungible protocols like Hegic.",
          "options": "is the address of the options contract"
        }
      },
      "getOptionsAddress((address,address,address,uint256,uint256,uint8,address))": {
        "params": {
          "optionTerms": "is the terms of the option contract"
        }
      },
      "optionsExist((address,address,address,uint256,uint256,uint8,address))": {
        "params": {
          "optionTerms": "is the terms of the option contract"
        }
      },
      "premium((address,address,address,uint256,uint256,uint8,address),uint256)": {
        "params": {
          "optionTerms": "is the terms of the option contract",
          "purchaseAmount": "is the number of options purchased"
        }
      },
      "purchase((address,address,address,uint256,uint256,uint8,address),uint256,uint256)": {
        "params": {
          "amount": "is the purchase amount in Wad units (10**18)",
          "optionTerms": "is the terms of the option contract"
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "events": {
      "Exercised(address,address,uint256,uint256,uint256)": {
        "notice": "Emitted when an option contract is exercised"
      },
      "Purchased(address,string,address,uint256,uint256)": {
        "notice": "Emitted when a new option contract is purchased"
      }
    },
    "kind": "user",
    "methods": {
      "closeShort()": {
        "notice": "Closes an existing short position. In the future, we may want to open this up to specifying a particular short position to close."
      },
      "createShort((address,address,address,uint256,uint256,uint8,address),uint256)": {
        "notice": "Opens a short position for a given `optionTerms`."
      },
      "exercise(address,uint256,uint256,address)": {
        "notice": "Exercises the options contract."
      },
      "exerciseProfit(address,uint256,uint256)": {
        "notice": "Amount of profit made from exercising an option contract (current price - strike price). 0 if exercising out-the-money."
      },
      "getOptionsAddress((address,address,address,uint256,uint256,uint8,address))": {
        "notice": "Get the options contract's address based on the passed parameters"
      },
      "nonFungible()": {
        "notice": "Boolean flag to indicate whether to use option IDs or not. Fungible protocols normally use tokens to represent option contracts."
      },
      "optionsExist((address,address,address,uint256,uint256,uint8,address))": {
        "notice": "Check if an options contract exist based on the passed parameters."
      },
      "premium((address,address,address,uint256,uint256,uint8,address),uint256)": {
        "notice": "Gets the premium to buy `purchaseAmount` of the option contract in ETH terms."
      },
      "protocolName()": {
        "notice": "Name of the adapter. E.g. \"HEGIC\", \"OPYN_V1\". Used as index key for adapter addresses"
      },
      "purchase((address,address,address,uint256,uint256,uint8,address),uint256,uint256)": {
        "notice": "Purchases the options contract."
      },
      "purchaseMethod()": {
        "notice": "Returns the purchase method used to purchase options"
      }
    },
    "version": 1
  }
}